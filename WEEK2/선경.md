-----

Chapter02. 컴퓨터의 구조와 성능 향상

-----

### 01. 컴퓨터의 기본 구성
* 하드웨어의 구성
  * CPU와 메모리  
    CPU : 명령어를 해석하여 실행하는 장치  
    메모리 : 작업에 필요한 프로그램과 데이터를 저장하는 장소
  * 입출력 장치  
    키보드, 마우스, 스캐너, 터치스크린 등  
  * 저장장치  
    하드디스크, CD 등  
  * 메인보드  
    CPU와 메모리 등 다양한 부품을 연결하는 커다란 판  
* 폰노이만 구조  
  CPU, 메모리, 입출력장치, 저장장치가 버스로 연결되어 있는 구조  
  하드웨어는 그대로 둔 채 작업을 위한 프로그램만 교체하여 메모리에 올리는 방식  
  '모든 프로그램은 메모리에 올라와야 실행할 수 있음'  

#

* CPU와 메모리
  * CPU의 기본 구성  
    산술논리 연산 장치 :  
    데이터의 덧셈, 뺄셈, 곱셈, 나눗셈 같은 산술 연산과 AND, OR 같은 논리 연산 수행  
    제어장치 :  
    CPU에서 작업을 지시하는 부분  
    레지스터 :  
    CPU내에 데이터를 임시로 보관하는 곳  
  * CPU의 명령어 처리 과정  
    필요한 데이터를 메모리에서 가져와 레지스터에 저장하고  
    산술논리 연산장치를 이용하여 연산을 한 후  
    그 결과를 다시 레지스터에 저장했다가 메모리로 옮김  
  * 레지스터 종류  
    데이터 레지스터(DR) :  
    메모리에서 가져온 데이터를 임시로 보관할 때 사용  
    주소 레지스터(AR) :  
    데이터 또는 명령어가 저장된 메모리의 주소가 저장된 곳  
  * 버스의 종류  
    버스는 CPU와 메모리, 주변장치 간에 데이터를 주고받을 때 사용  
    제어 버스 :  
    다음에 어떤 작업을 할지 지시하는 제어 신호가 오고감  
    주소 버스 :  
    메모리의 데이터를 읽거나 쓸 때 어느 위치에서 작업할 것인지를 알려주는 위치 정보가 오고감  
    데이터 버스 :  
    메모리 버퍼 레지스터와 연결된 버스로, 데이터의 이동이 양방향으로 이루어짐
    
### 02. CPU와 메모리

### 03. 컴퓨터 성능 향상 기술

### 04. 병렬 처리
### 05. [심화학습] 무어의 법칙과 암달의 법칙

#

### 면접 예상 질문
* 캐시란?
* 저장 장치의 계층 구조를 설명해주세요.
* 인터럽트란?
* 인터럽트 동작 과정을 설명해주세요.
* 인터럽트와 시스템콜의 차이점


-----

Chapter03. 프로세스와 스레드

-----

### 01. 프로세스의 개요

#### 프로세스

프로세스 : 하나의 작업 단위, 프로그램이 실행되면 프로세스가 됨

* 일괄 작업 방식
  - 한번에 하나의 작업만 처리
  - 큐 사용
* 시분할 방식
  - CPU가 시간을 쪼개서 여러 프로세스에 배분
  - 동시에 여러개를 실행하는 것처럼 보임  
  - 예상치 못한 상황을 처리하기 위해 여러 상태를 오가며 실행됨  
  - 현대의 운영체제 기본 방식프로그램  

#### 프로그램에서 프로세스로의 전환
태스크(task) : 컴퓨터 시스템의 작업 단위  
프로세스 제어 블록(Process Control Block) :  
프로세스를 처리하는 데 필요한 다양한 정보가 들어있는 블록  
이 블록이 없으면 프로그램이 프로세스로 전환되지 못함  
프로세스 구분자, 메모리 관련 정보, 각종 중간값 등의 정보가 있음
#
프로세스 = 프로그램 + 프로세스 제어 블록  
프로그램 = 프로세스 - 프로세스 제어 블록

#### 프로세스의 상태  
* 생성 상태 :  
  프로세스가 메모리에 올라와 실행 준비를 완료한 상태  
  프로세스를 관리하는데 필요한 프로세스 제어 블록이 생성됨  
* 준비 상태 :  
  생성된 프로세스가 CPU를 얻을 때까지 기다리는 상태  
* 실행 상태 :  
  준비 상태에 있는 프로세스 중 하나가 CPU를 얻어 실제 작업을 수행하는 상태  
  프로세스의 작업이 끝날 때 까지 준비와 실행 상태를 왔다갔다 함  
* 대기 상태 :  
    입출력을 요구한 프로세스가 입출력이 완료될 때까지 기다리는 상태
* 완료 상태 :  
  실행 상태의 프로세스가 주어진 시간 동안 작업을 마친 상태  
  프로세스 제어 블록이 사라진 상태

#### CPU 스케줄러  
준비 상태에 있는 프로세스들 중 다음에 실행할 하나의 프로세스를 선정하는 일을 함  
준비 상태의 맨 앞에서 기다리고 있는 프로세스 제어 블록을 CPU에 전달하여 작업이 이루어지게 함 (디스패치)  
프로세스의 전 상태에 관여함  
* 타임 슬라이스(타임 퀀텀) : 프로세스에 배당된 작업 시간  
* 타임 아웃 : 타임 슬라이스 동안 작업을 끝내지 못하고 다시 준비 상태로 돌아가는 것

### 02. 프로세스 제어 블록과 문맥 교환  
####프로세스 제어 블록(TCB)  
프로세스를 실행하는 데 필요한 중요한 정보를 보관하는 자료 구조  
프로세스 생성 시 만들어져서 프로세스가 실행을 완료하면 폐기됨  
#### 프로세스 제어 블록의 구성  
![프로세스 제어 블록의 구성](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fcjrby0%2FbtqIarikobp%2FwPTdGGKemxiT7XkXXEBdQ0%2Fimg.png)  
* 포인터 :  
  프로세스 제어 블록을 연결하여 준비 상태나 대기 상태의 큐를 구현할 때 사용  
* 프로세스 상태 :  
  프로세스가 현재 어떤 상태에 있는지 나타냄  
* 프로세스 구분자 :  
  운영체제 내에 있는 여러 프로세스를 구분하기 위한 구분자  
* 프로그램 카운터 :  
  다음에 실행될 명령어의 위치를 가리키는 프로그램 카운터 값 저장  
* 프로세스 우선순위 :  
  우선순위에 따라 프로세스 제어 블록들이 여러 줄로 서 있음  
* 각종 레지스터 정보 :  
  사용하던 레지스터의 중간값 보관  
* 메모리 관리 정보 :  
  메모리 위치 정보, 경계 레지스터 값과 한계 레지스터값 등이 저장됨  
* 할당된 자원 정보 :  
  입출력 자원이나 오픈 파일 등에 대한 정보  
* 계정 정보 :  
  계정 번호, CPU 할당 시간, CPU 사용 시간 등의 정보 저장  
* 부모 프로세스 구부자와 자식 프로세스 구분자 :  
  PPID, CPID 정보 저장  

#### 문맥 교환(context switching)  
작업 환경을 바꾸기 위해 CPU를 차지하던 프로세스가 나가고 새로운 프로세스를 받아들이는 작업이 이루어 질 때  
두 프로세스의 프로세스 제어 블록을 교환하는 작업

[context switching이란](https://nesoy.github.io/articles/2018-11/Context-Switching)  

### 03. 프로세스의 연산  
#### 프로세스의 구조  
프로세스는 코드영역, 데이터영역(일반 데이터 영역 + 힙 영역), 스택영역으로 구성됨  
* 코드 영역 :  
  프로그램의 본문이 기술된 곳  
* 데이터 영역 :  
  코드가 실행하면서 사용하는 변수나 파일 등의 각종 데이터를 모아놓은 곳  
* 스택 영역 :  
  운영체제가 프로세스를 실행하기 위해 부수적으로 필요한 데이터를 모아놓은 곳  

[프로세스 구조](https://velog.io/@gndan4/OS-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4-%EA%B5%AC%EC%A1%B0)  

#### fork() 시스템 호출  
실행 중인 프로세스로부터 새로운 프로세스를 복사하는 함수  
실행 중인 프로세스와 똑같은 프로세스를 하나 더 만들 수 있음  
프로세스를 복사하여 사용하면 매번 생성하지 않아도 됨 -> 속도 향상  
이 때 실행하던 프로세스는 부모 프로세스, 새로 생긴 프로세스는 자식 프로세스로 부모-자식 관계가 됨

#### fork() 시스템 호출의 동작 과정  
* 프로세스 구분자가 바뀜  
* 메모리 관련 정보가 바뀜  
* 부모 프로세스 구분자와 자식 프로세스 구분자가 바뀜  

#### fork() 시스템 호출의 장점  
* 프로세스의 생성 속도가 빠름  
* 추가 작업 없이 자원을 상속할 수 있음  
* 시스템 관리를 효율적으로 할 수 있음

#### exex() 시스템 호출  
기존의 프로세스를 새로운 프로세스로 전환하는 함수  
프로세스는 그대로 둔 채 내용만 변경됨  
프로세스의 구조체를 재활용 하기 위해 사용  

#### exex() 시스템 호출의 동작 과정  
* 코드 영역에 있는 기존의 내용을 지우고 새로운 코드로 변경됨  
* 데이터 영역이 새로운 변수로 채워짐  
* 스택 영역이 리셋됨  
* 프로그램 카운터 레지스터 값을 비롯한 각종 레지스터와 사용한 파일 정보가 리셋됨  

#### 프로세스 계층 구조의 장점  
* 여러 작업의 동시 처리  
* 용이한 자원 회수  

#### 고아 프로세스  
부모 프로세스가 먼저 종료되거나 자식 프로세스가 비정상적으로 종료되어 부모 프로세스에 연락이 되지 않으면서  
자식 프로세스가 종료되지 않거나 종료 되었는데도 사용하던 자원이 그대로 남게되는 경우  

### 03. 스레드  
#### 스레드  
프로세스의 코드에 정의된 절차에 따라 CPU에 작업 요청을 하는 실행 단위  

* 멀티태스킹 : 운영체제가 CPU에 작업을 줄 때 시간을 잘게 나누어 배분하는 기법
* 멀티스레드 : 프로세스 내 작업을 여러 개의 스레드로 분할함으로써 작업의 부담을 줄이는 프로세스 운영 기법  
* 멀티 프로세싱 : CPU를 여러 개 사용하여 여러 개의 스레드를 동시에 처리하는 작업 환경  
  * CPU 멀티스레드 :  
  한 번에 하나씩 처리해야 하는 스레드를 파이프라인 기법을 이용하여  
  동시에 여러 스레드를 처리하도록 만든 병렬 처리 기법  
    [프로세스와 스레드 차이](https://zeroco.tistory.com/75)

  
### 예상 질문  
* 프로세스의 특징을 설명해주세요  
* 프로세스란 무엇인가요  
* 스레드란 무엇인가요  
* 스레드의 특징을 설명해주세요  
* 프로세스와 스레드의 차이를 설명해주세요  
* 멀티 프로세싱과 멀티 프로그래밍의 차이
* 스레드의 장점은 무엇인가요  
* 멀티 스레딩의 장점과 단점은?  
* 힙 영역과 스택 영영의 차이

[link](https://fastcampus.co.kr/media_branding_cs)