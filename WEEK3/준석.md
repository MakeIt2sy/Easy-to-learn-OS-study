# 프로세스와 스레드

### 프로세스

프로그램이 실행을 위해 메모리에 올라온 상태

### 프로세스의 4가지 상태

생성 -> 준비 -> 실행 -> 완료

<br>

생성 상태 : 프로세스가 메모리에 올라와 실행 준비를 완료한 상태, 제어 블록 색성

준비 상태 : 생성된 프로세스가 CPU를 얻을 때까지 기다리는 상태

실행 상태 : 준비 상태에 있는 프로세스 중 하나가 CPU를 얻어 실제 작업을 수행하는 상태(일정 시간만 부여)
-> 만약 일정시간안에 해결 못할 시 준비상태 <-> 실행 상태를 반복한다.

완료상태 : 실행 상태의 프로세스가 주어진 시간 안에 작업을 마친 상태(PCB가 사라진 상태)

### PCB

구성요소

- 포인터
- 프로세스 상태
- 프로세스 구분자
- 프로그램 카운터
- 프로세스 우선순위
- 각종 레지스터 정보
- 메모리 관련 정보
- 할당된 자원 정보
- 계정 정보
- 부모프로세스 구분자와 자식 프로세스 구분자

### 문맥교환(Context Switch)

CPU를 차지하던 프로세스가 나가고 새로운 프로세스를 받아들이는 작업

### 프로세스의 구조

- 코드 영역
- 데이터 영역
- 스택 영역

### 프로세스의 생성과 복사

#### fork()

실행중인 프로세스로부터 새로운 프로세스를 복사하는 함수
이 때 실행중이었던 프로세스는 부모 프로세스, 새로 생긴 프로세스는 자식 프로세스로머 부모-자식 관계가 된다.

- 장점

  1.프로세스의 생성 속도가 빠르다.

  2.추가 작업 없이 자원을 상속할수 있다.

  3.시스템 관리를 효율적으로 할수있다.

#### exec()

기존의 프로세스를 새로운 프로세스로 전환하는 함수
이미 만들어진 프로세스의 구조를 재활용하는 것이다.

- 장점

  1.이미 만들어진 프로세스의 구조를 재활용

  2.재활용을 하면 프로세스 제어 블록, 메모리 영역, 부모 자식 관계를 그대로 사용 가능하여 편리하다.

  3.새로운 코드 영역만 가져오면 되기 때문에 운영 체제의 작업이 수월하다.

### 스레드

CPU내에 작업 요청을 하는 실행 단위

#### 관련 용어

- 멀티스레드 : 멀티스레드는 프로세스 내 작업을 여러 개의 스레드로 분할함으로써 작업의 부담을 줄이는 프로세스 운영 기법

- 멀티 태스킹 : 운영체제가 CPU에 작업을 줄 때 시간을 잘게 나누어 배분하는 기법

- 멀티프로세싱 : CPU를 여러 개 사용하여 여러 개의 스레드를 동시에 처리하는 작업 환경을 말함.

- CPU 멀티스레드 : 한 번에 하나씩 처리해야 하는 스레드를 파이프라인 기법을 이용하여 동시에 여러 스레드를 처리하도록 만든 병렬 처리 기법

### 멀티스레드의 장점

- 프로세스 내에서 공유가 가능한 부분을 제외하고 실행과 관련된 부분을 스레드로 나누어 관리하면 자원의 중복사용을 막을 수 있다.​

- 하나의 프로세스에서 여러 스레드를 사용하면 작업의 효율 증가

### 멀티스레드의 단점

- 모든 스레드가 자원을 공유하기 때문에 하나의 스레드에 발생한 문제가 전체에 영향을 미친다.

---

질문거리

프로세스와 스레드의 차이점이 뭔가요?

PCB에 대해 설명해주세요

문맥교환에 대해서 설명해주세요

프로세스의 구조에 대해서 설명해주세요

fork()와 exec에 대해서 설명해주세요

멀티프로세스에 대해서 설명해주세요

멀티스레드에 대해서 설명해주세요

멀티스레드의 장단점은 뭐가 있을까요?
